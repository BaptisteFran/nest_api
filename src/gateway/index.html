<html>
  <head>
    <script
      src="https://cdn.socket.io/4.3.2/socket.io.min.js"
      integrity="sha384-KAZ4DtjNhLChOB/hxXuKqhMLYvx3b5MlT55xPEiNmREKRzeEm+RVPlTnAn0ajQNs"
      crossorigin="anonymous"
    ></script>
    <script>
      const socket = io('http://localhost:3000');

      socket.on('connect', function () {
        console.log('Connected to server');

        // Envoyer un message ('bonjour')
        socket.emit('message', {
          message : 'test retrieve discution 2',
          from: 2,
          to : 1
        })
      });


      socket.on('new-message-1',(data)=>{
        console.log(data)
      })

      // socket.on('response', (data) => {
      //   console.log('previous discussion : ' + JSON.stringify(data.previousMessages));
      //   console.log('message received : ' + data.message + ' from : ' + data.from);
      // });


      socket.on('exception', function (data) {
        console.log('event', data);
      });
      socket.on('disconnect', function () {
        console.log('Disconnected');
      });
    </script>
  </head>

  <body></body>
</html>
